{"ast":null,"code":"import _toConsumableArray from \"D:\\\\Work\\\\react-redux\\\\book-management-app-V1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\Work\\\\react-redux\\\\book-management-app-V1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar defaultState = {\n  items: [],\n  loading: false,\n  errors: {},\n  filteredbook: [],\n  searchvalue: false,\n  isfetch: false\n};\n\nvar _ = require('lodash');\n\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'FETCH_BOOK_BEGIN':\n      console.log(\"Reducers FETCH_BOOK_BEGIN\");\n      return _objectSpread({}, state, {\n        loading: !state.loading,\n        isfetch: !state.isfetch\n      });\n\n    case 'FETCH_BOOK_SUCCESS':\n      console.log(\"Reducers FETCH_BOOK_SUCCESS\", action.payload);\n      return _objectSpread({}, state, {\n        loading: !state.loading,\n        isfetch: !state.isfetch,\n        items: action.payload\n      });\n\n    case 'FETCH_BOOKS':\n      console.log(\"Reducers FETCH_BOOKS\", action.payload);\n      return _objectSpread({}, state, {\n        loading: false,\n        books: action.payload\n      });\n    // case 'FETCH_BOOK_RECORD':\n    // console.log(\"reducer \",action.payload)\n    // return {\n    //   ...state,\n    //  books: action.payload\n    // } \n\n    case 'ADD_BOOK':\n      return _objectSpread({}, state, {\n        books: [].concat(_toConsumableArray(state.books), [action.payload]),\n        errors: {},\n        loading: false // console.log(\"reducer \",action.payload)\n        // return {...state,\n        //   books:state.concat([action.payload])\n        // }\n\n      });\n\n    case 'DELETE_BOOK':\n      console.log(\"reducer \", action.id);\n      return _objectSpread({}, state, {\n        books: state.books.filter(function (book) {\n          return book.id !== action.id;\n        }),\n        filteredbook: state.filteredbook.filter(function (book) {\n          return book.id !== action.id;\n        })\n      });\n\n    case 'EDIT_BOOK':\n      return _objectSpread({}, state, {\n        books: state.books.map(function (book) {\n          return book.id === action.id ? _objectSpread({}, book, {\n            editing: !book.editing\n          }) : book;\n        }),\n        filteredbook: state.filteredbook.map(function (book) {\n          return book.id === action.id ? _objectSpread({}, book, {\n            editing: !book.editing\n          }) : book;\n        })\n      });\n\n    case 'UPDATE_BOOK':\n      return _objectSpread({}, state, {\n        books: state.books.map(function (book) {\n          if (book.id === action.payload.id) {\n            return _objectSpread({}, book, {\n              booktitle: action.payload.booktitle,\n              cover: action.payload.cover,\n              author: action.payload.author,\n              publisher: action.payload.publisher,\n              date: action.payload.date,\n              editing: !book.editing\n            });\n          } else return book;\n        }),\n        filteredbook: state.filteredbook.map(function (book) {\n          if (book.id === action.payload.id) {\n            return _objectSpread({}, book, {\n              booktitle: action.payload.booktitle,\n              cover: action.payload.cover,\n              author: action.payload.author,\n              publisher: action.payload.publisher,\n              date: action.payload.date,\n              editing: !book.editing\n            });\n          } else return book;\n        })\n      });\n\n    case 'SEARCH_BOOK':\n      var payload = action.payload;\n      var filtereddata = [];\n      var searchflag = false;\n\n      if (payload !== '') {\n        filtereddata = _.filter(state.books, function (o) {\n          return _.toLower(o.booktitle).includes(_.toLower(payload));\n        });\n        searchflag = true;\n      } //  const filtered =  state.books.filter(book =>  book.booktitle.indexOf(payload)!==-1)\n\n\n      return _objectSpread({}, state, {\n        filteredbook: filtereddata,\n        searchvalue: searchflag //  return{\n        //    ...state,\n        //   books:  state.books.filter(book =>  book.booktitle.indexOf(action.payload)!==-1)\n        //    }\n\n      });\n\n    case 'DELETE_AUTHOR_BOOKS':\n      console.log(\"reducer \", action.payload);\n      return _objectSpread({}, state, {\n        books: state.books.filter(function (book) {\n          return book.author !== action.payload;\n        })\n      });\n\n    case 'DELETE_PUBLISHER_BOOKS':\n      console.log(\"reducer \", action.payload);\n      return _objectSpread({}, state, {\n        books: state.books.filter(function (book) {\n          return book.publisher !== action.payload;\n        }) // case 'BOOKTITLE_EXIST':\n        //   let res = state.some(function (book) { return book['booktitle'] === action.payload })\n        //   console.log(\"res\", res)\n        //   return res;\n\n      });\n\n    default:\n      return state;\n  }\n}\n;","map":{"version":3,"sources":["D:\\Work\\react-redux\\book-management-app-V1\\src\\reducers\\bookdetailReducer.js"],"names":["defaultState","items","loading","errors","filteredbook","searchvalue","isfetch","_","require","state","action","type","console","log","payload","books","id","filter","book","map","editing","booktitle","cover","author","publisher","date","filtereddata","searchflag","o","toLower","includes"],"mappings":"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","sourcesContent":["const defaultState = {\r\n  items: [],\r\n  loading: false,\r\n  errors:{},\r\n  filteredbook:[],\r\n  searchvalue:false,\r\n  isfetch:false,\r\n}\r\nconst _ = require('lodash')\r\n\r\nexport default function (state = defaultState, action) {\r\n  switch (action.type) { \r\n    case 'FETCH_BOOK_BEGIN':\r\n      console.log(\"Reducers FETCH_BOOK_BEGIN\")\r\n        return {\r\n          ...state,\r\n           loading:!state.loading,\r\n           isfetch:!state.isfetch\r\n          }; \r\n          \r\n          case 'FETCH_BOOK_SUCCESS':          \r\n            console.log(\"Reducers FETCH_BOOK_SUCCESS\",action.payload)\r\n        return {          \r\n          ...state,\r\n           loading:!state.loading,\r\n           isfetch:!state.isfetch,\r\n           items:action.payload\r\n          }; \r\n\r\n\r\n\r\n   case 'FETCH_BOOKS':     \r\n    console.log(\"Reducers FETCH_BOOKS\",action.payload)\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        books: action.payload\r\n      };\r\n    \r\n  \r\n    // case 'FETCH_BOOK_RECORD':\r\n    // console.log(\"reducer \",action.payload)\r\n    // return {\r\n    //   ...state,\r\n    //  books: action.payload\r\n    // } \r\n    case 'ADD_BOOK':\r\n      return {\r\n        ...state,\r\n        books: [...state.books, action.payload],\r\n        errors: {},\r\n        loading: false\r\n      }\r\n      // console.log(\"reducer \",action.payload)\r\n      // return {...state,\r\n      //   books:state.concat([action.payload])\r\n      // }\r\n   \r\n    case 'DELETE_BOOK':\r\n    console.log(\"reducer \",action.id)\r\n      return {...state,\r\n       books: state.books.filter((book) => book.id !== action.id),\r\n       filteredbook: state.filteredbook.filter((book) => book.id !== action.id),\r\n\r\n      }\r\n      case 'EDIT_BOOK':\r\n      return {\r\n        ...state,\r\n      books:  state.books.map((book) => book.id === action.id ? { ...book, editing: !book.editing } : book),\r\n      filteredbook:  state.filteredbook.map((book) => book.id === action.id ? { ...book, editing: !book.editing } : book)\r\n      \r\n      }\r\n    case 'UPDATE_BOOK':\r\n      return{\r\n        ...state,\r\n        books:\r\n        state.books.map((book) => {\r\n        if (book.id === action.payload.id) {\r\n          return {\r\n            ...book,\r\n            booktitle: action.payload.booktitle,\r\n            cover: action.payload.cover,\r\n            author: action.payload.author,\r\n            publisher: action.payload.publisher,\r\n            date: action.payload.date,\r\n            editing: !book.editing\r\n          }\r\n        } else return book;\r\n      }),\r\n      filteredbook:state.filteredbook.map((book) => {\r\n        if (book.id === action.payload.id) {\r\n          return {\r\n            ...book,\r\n            booktitle: action.payload.booktitle,\r\n            cover: action.payload.cover,\r\n            author: action.payload.author,\r\n            publisher: action.payload.publisher,\r\n            date: action.payload.date,\r\n            editing: !book.editing\r\n          }\r\n        } else return book;\r\n      })\r\n    }\r\n    case 'SEARCH_BOOK':  \r\n    const {payload} = action\r\n   let filtereddata=[];\r\n   let searchflag=false;\r\n   if(payload!=='')   \r\n   {\r\n     filtereddata = _.filter(state.books, (o) => _.toLower(o.booktitle).includes(_.toLower(payload)));\r\n     searchflag=true;\r\n   }\r\n  //  const filtered =  state.books.filter(book =>  book.booktitle.indexOf(payload)!==-1)\r\n    return {...state,\r\n      filteredbook:filtereddata,\r\n      searchvalue:searchflag\r\n    }\r\n  //  return{\r\n  //    ...state,\r\n  //   books:  state.books.filter(book =>  book.booktitle.indexOf(action.payload)!==-1)\r\n      \r\n  //    }\r\n     case 'DELETE_AUTHOR_BOOKS':\r\n     console.log(\"reducer \",action.payload)\r\n       return {...state,\r\n        books: state.books.filter((book) => book.author !== action.payload)\r\n       }\r\n       case 'DELETE_PUBLISHER_BOOKS':\r\n     console.log(\"reducer \",action.payload)\r\n       return {...state,\r\n        books: state.books.filter((book) => book.publisher !== action.payload)\r\n       }\r\n    // case 'BOOKTITLE_EXIST':\r\n    //   let res = state.some(function (book) { return book['booktitle'] === action.payload })\r\n    //   console.log(\"res\", res)\r\n    //   return res;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}